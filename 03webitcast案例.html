<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<title>webitcast案例</title>
	<style>
		body {
			padding: 0;
			margin: 0;
			background-color: #f0f0f0;
			overflow: hidden;
		}
	</style>
	<script src="bower_components/konva/konva.min.js"></script>
</head>
<body>
	<div id="container">
	</div>

	<script>
		//创建舞台
		var stage = new Konva.Stage({
			container: 'container',
			width: window.innerWidth,//全屏
			height: window.innerHeight
		});

		//创建层
		
		//中心点坐标
		var cenX = stage.width() / 2;
		var cenY = stage.height() / 2;

		//创建背景层
		var bgLayer = new Konva.Layer();
		stage.add(bgLayer);

		//绘制背景
		var innerRadius = 252 / 2;	//内环的半径
		var outerRadius = 220;		// 外环的半径

		// 创建背景内环圆
		var innerCircle = new Konva.Circle({
			x: cenX,
			y: cenY,
			radius: innerRadius,
			stroke: '#ccc',
			strokeWidth: 4,
			dash: [10,4], //设置虚线，10实线， 4像素空 
		});

		bgLayer.add( innerCircle );


		var outerCircle = new Konva.Circle({
			x: cenX,
			y: cenY,
			radius: outerRadius,
			stroke: '#ccc',
			strokeWidth: 4,
			dash: [10,4], //设置虚线，10实线， 4像素空 
		});

		bgLayer.add( outerCircle );


		// 把中心圆形 添加到 层中
		var cenCircle = new Konva.Circle({
			x: cenX,
			y: cenY,
			radius: 132 / 2,
			fill: '#525A82',

		});

		bgLayer.add( cenCircle );

		// Ring: 圆环的意思。
		var cenRing = new Konva.Ring({
			x: cenX,
			y: cenY,
			innerRadius: 132/ 2,//内环的半径
			outerRadius: 180 / 2,//外环的半径
			fill: '#E1E1E1',
			opacity: .5
		});
		bgLayer.add( cenRing );


		// 创建中心圆的文字
		var cenText = new Konva.Text({
			x: cenX - 180 / 2,
			y: cenY - 8,
			width: 180,
			align: 'center',
			text: 'Web全栈',
			fontSize: 17,
			fontFamily: '微软雅黑',
			fontStyle: 'bold',
			fill: '#fff'
		});

		bgLayer.add( cenText );

		bgLayer.draw();
	


		// 动画层的绘制
		var animateLayer = new Konva.Layer();
		stage.add( animateLayer );

		//计算圆的圆心坐标
		var x0 = cenX + innerRadius*Math.cos( -60 * Math.PI / 180 );
		var y0 = cenY + innerRadius*Math.sin( -60 * Math.PI / 180 );
	
		var l2_html5_circle = new Konva.Circle({
			x: x0,
			y: y0,
			radius: 30,
			fill: '#FABB48',
			opacity: .8,
		});

		animateLayer.add( l2_html5_circle );

		animateLayer.draw();
	</script>
</body>
</html>